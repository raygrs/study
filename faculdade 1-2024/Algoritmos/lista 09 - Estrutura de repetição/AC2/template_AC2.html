<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    Selecione o Serviço: <select id="select_servico">
        <option value="#">Escolha uma opção</option>
        <option value="manicure">Manicure</option>
        <option value="barba">Barba</option>
        <option value="cabelo">Cabelo</option>
    </select> <br>


    Selecione o Dia: <select id="select_dia">
        <option value="#">Escolha uma opção</option>
        <option value="segunda"> Segunda-feira </option>
        <option value="terça"> Terça-feira </option>
        <option value="quarta"> Quarta-feira </option>
        <option value="quinta"> Quinta-feira </option>
        <option value="sexta"> Sexta-feira </option>
        <option value="sábado"> Sábado </option>
        <option value="domingo"> Domingo </option>
    </select> <br>

    Selecione o Horário: <select id="select_horario">
        <option value="#">Escolha uma opção</option>
        <option value="0"> 00:00h </option>
        <option value="1"> 01:00h </option>
        <option value="2"> 02:00h </option>
        <option value="3"> 03:00h </option>
        <option value="4"> 04:00h </option>
        <option value="5"> 05:00h </option>
        <option value="6"> 06:00h </option>
        <option value="7"> 07:00h </option>
        <option value="8"> 08:00h </option>
        <option value="9"> 09:00h </option>
        <option value="10"> 10:00h </option>
        <option value="11"> 11:00h </option>
        <option value="12"> 12:00h </option>
        <option value="13"> 13:00h </option>
        <option value="14"> 14:00h </option>
        <option value="15"> 15:00h </option>
        <option value="16"> 16:00h </option>
        <option value="17"> 17:00h </option>
        <option value="18"> 18:00h </option>
        <option value="19"> 19:00h </option>
        <option value="20"> 20:00h </option>
        <option value="21"> 21:00h </option>
        <option value="22"> 22:00h </option>
        <option value="23"> 23:00h </option>
    </select> <br>

    Qual será a recorrência de atendimentos em 1 ano? <input type="number" id="input_recorrencia"> <br>

    <button onclick="realizar()">Realizar Orçamento</button>

    <div id="div_resultado"></div>

</body>

</html>

<script>
    function realizar() {

        div_resultado.innerHTML = '';

        const Select_servico = select_servico.value;
        const Select_dia_semana = select_dia.value;
        const horario = Number(select_horario.value);
        const recorrencia = Number(input_recorrencia.value);


        if (Select_servico == '' || Select_dia_semana == '' || horario == '' || recorrencia == '') {
            div_resultado.innerHTML = `Preencha todos os campos para prosseguir`
        } else {
            if (Select_servico == 'manicure' && horario < 8 || horario > 16) {
                div_resultado.innerHTML = `O serviço selecionado não está disponível para esse horário`
            } else if (Select_servico == 'barba' && horario < 13 || horario > 20) {
                div_resultado.innerHTML = `O serviço selecionado não está disponível para esse horário`
            } else if (Select_servico == 'cabelo' && horario < 0 && horario > 23) {
                div_resultado.innerHTML = `O serviço selecionado não está disponível para esse horário`
            }
            else {
                // de acordo com o serviço e o dia selecionados, calcule o preço do serviço escolhido

                let preco_manicure = 20;
                let preco_barba = 15;
                let preco_cabelo = 30;

                if (Select_servico == 'manicure' && Select_dia_semana == 'terça' || Select_dia_semana == 'quinta') {
                    preco_manicure = 16;
                } else if (Select_servico == 'barba' && Select_dia_semana == 'segunda' || Select_dia_semana == 'quarta') {
                    preco_barba = 12;
                } else if (Select_servico == 'cabelo' && Select_dia_semana == 'sexta' || Select_dia_semana == 'sábado' || Select_dia_semana == 'domingo') {
                    preco_cabelo = 25;
                }

                if (Select_servico == 'manicure') {
                    let saldo_manicure = preco_manicure;
                    let desconto_manicure = 0;
                    
                    let i = 1
                    let desc = 1
                    for (; i <= recorrencia; i++) {
                        if (i % 3 == 0) {
                            for (; desc < recorrencia; desc++) {
                                desconto_manicure = preco_manicure;
                            }

                        }
                        saldo_manicure -= desconto_manicure;

                        div_resultado.innerHTML += `Atendimento ${i} - Serviço: ${Select_servico} | Dia: ${Select_dia_semana} | Hora: ${horario} | Preço Serviço: ${preco_manicure} | Desconto: ${desconto_manicure} | Preço Final: ${saldo_manicure} <br>`
                        

                    }

                    div_resultado.innerHTML += `<p>Ao longo do ano, você será atendido ${i - 1} vezes, sendo ${desc} serviços gratuitos devido a fidelidade, onde o valor final do orçamento será de ${saldo_manicure * i}`


                } else if (Select_servico == 'barba') {
                    let desconto_barba = 0;
                    let saldo_barba = preco_barba;
                    let i = 1
                    for (; i <= recorrencia; i++) {
                        if (i % 4 == 0) {
                            desconto_barba = preco_barba;
                        }

                        saldo_barba -= desconto_barba;

                        div_resultado.innerHTML += `Atendimento ${i} - Serviço: ${Select_servico} | Dia: ${Select_dia_semana} | Hora: ${horario} | Preço Serviço: ${preco_barba} | Desconto: ${desconto_barba} | Preço Final: ${saldo_barba} <br>`

                    }

                    div_resultado.innerHTML += `<p>Ao longo do ano, você será atendido ${i - 1} vezes, sendo X serviços gratuitos devido a fidelidade, onde o valor final do orçamento será de ${saldo_barba}`

                } else if (Select_servico == 'cabelo') {
                    let desconto_cabelo = 0;
                    let saldo_cabelo = preco_cabelo;

                    let i = 1

                    for (; i <= recorrencia; i++) {
                        if (i % 4 == 6) {
                            desconto_cabelo = preco_cabelo;
                        }

                        saldo_cabelo -= desconto_cabelo;

                        div_resultado.innerHTML += `Atendimento ${i} - Serviço: ${Select_servico} | Dia: ${Select_dia_semana} | Hora: ${horario} | Preço Serviço: ${preco_cabelo} | Desconto: ${desconto_cabelo} | Preço Final: ${saldo_cabelo} <br>`

                    }

                    div_resultado.innerHTML += `<p>Ao longo do ano, você será atendido ${i - 1} vezes, sendo X serviços gratuitos devido a fidelidade, onde o valor final do orçamento será de ${saldo_cabelo}`

                }





            }
        }


    }
</script>